{"version":3,"file":"js/469.b260e613.js","mappings":"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","sources":["webpack://rbac_demo_front/./src/components/JobView.vue","webpack://rbac_demo_front/src/components/JobView.vue","webpack://rbac_demo_front/./src/components/JobView.vue?32dc","webpack://rbac_demo_front/./src/components/JobView.vue?647b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('el-autocomplete',{attrs:{\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":\"请输入搜索内容\",\"trigger-on-focus\":false},on:{\"input\":_vm.handInput},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchUser}},[_vm._v(\" 搜索 \")]),(_vm.hasAuth('job:add'))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"新增部门\")]):_vm._e(),(_vm.hasAuth('job:del'))?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delJob(null)}}},[_vm._v(\"批量删除\")]):_vm._e()],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"row-key\":\"id\",\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"岗位名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"dept_name\",\"label\":\"所属部门\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"正常\")]):_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"禁用\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"mod\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.hasAuth('job:mod'))?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.editJob(scope.row.id)}}}):_vm._e(),(_vm.hasAuth('job:del'))?_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.delJob(scope.row.id)}}}):_vm._e()]}}])})],1),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"岗位名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属部门\",\"prop\":\"dept\"}},[_c('treeselect',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"选择所属部门\",\"flat\":true,\"options\":_vm.depts},model:{value:(_vm.ruleForm.dept),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"dept\", $$v)},expression:\"ruleForm.dept\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"status\"}},[_c('el-switch',{model:{value:(_vm.ruleForm.status),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"status\", $$v)},expression:\"ruleForm.status\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setJob}},[_vm._v(\"确 定\")])],1)],1),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.count,\"page-size\":5},on:{\"next-click\":_vm.nextPage,\"current-change\":_vm.getPage,\"prev-click\":_vm.prevPage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <el-autocomplete\r\n          v-model=\"state\"\r\n          :fetch-suggestions=\"querySearchAsync\"\r\n          placeholder=\"请输入搜索内容\"\r\n          :trigger-on-focus=\"false\"\r\n          @input=\"handInput\"\r\n      ></el-autocomplete>\r\n      <el-button type=\"primary\" @click=\"searchUser\" style=\"margin-left: 10px\">\r\n        搜索\r\n      </el-button>\r\n      <el-button type=\"primary\" v-if=\"hasAuth('job:add')\" @click=\"dialogVisible = true\">新增部门</el-button>\r\n      <el-button type=\"danger\" v-if=\"hasAuth('job:del')\" @click=\"delJob(null)\">批量删除</el-button>\r\n    </div>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%;margin-top: 20px;\"\r\n        row-key=\"id\"\r\n        border\r\n        v-loading=\"loading\"\r\n        @selection-change=\"handleSelectionChange\">\r\n      <el-table-column\r\n          type=\"selection\"\r\n          width=\"55\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"岗位名\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"dept_name\"\r\n          label=\"所属部门\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"status\"\r\n          label=\"状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" v-if=\"scope.row.status\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"small\" v-else type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"create_time\"\r\n          label=\"创建时间\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"mod\"\r\n          label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" circle v-if=\"hasAuth('job:mod')\"\r\n                     @click=\"editJob(scope.row.id)\"></el-button>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" circle v-if=\"hasAuth('job:del')\"\r\n                     @click=\"delJob(scope.row.id)\"></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <el-dialog\r\n        :title=\"title\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\">\r\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"岗位名\" prop=\"name\">\r\n          <el-input v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属部门\" prop=\"dept\">\r\n          <treeselect\r\n              style=\"width: 170px\"\r\n              placeholder=\"选择所属部门\"\r\n              :flat=\"true\"\r\n              v-model=\"ruleForm.dept\"\r\n              :options=\"depts\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"是否启用\" prop=\"status\">\r\n          <el-switch v-model=\"ruleForm.status\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"setJob\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        :total=\"count\"\r\n        @next-click=\"nextPage\"\r\n        @current-change=\"getPage\"\r\n        @prev-click=\"prevPage\"\r\n        :page-size=\"5\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\nexport default {\r\n  name: \"JobView\",\r\n  data() {\r\n    return {\r\n      loading:false,\r\n      prev_page:'',\r\n      next_page:'',\r\n      count:'',\r\n      restaurants: [],\r\n      state: '',\r\n      timeout: null,\r\n      depts: [],\r\n      ruleForm: {\r\n        name: '',\r\n        dept: null,\r\n        status: true\r\n      },\r\n      rules: {\r\n        name: [\r\n          {required: true, message: '请输入岗位名', trigger: 'blur'},\r\n          {min: 2, max: 5, message: '长度在 2 到 6 个字符', trigger: 'blur'}\r\n        ],\r\n      },\r\n      multipleSelection: [],\r\n      dialogVisible: false,\r\n      title: '新增',\r\n      tableData: ''\r\n    }\r\n  },\r\n  methods: {\r\n    prevPage(){\r\n      this.$axios.get(this.prev_page, {headers:{Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data.results\r\n        this.next_page = res.data.data.next\r\n      })\r\n    },\r\n    getPage(val){\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/job/?page=' + val, {headers:{Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data.results\r\n        this.next_page = res.data.data.next\r\n        this.prev_page = res.data.data.previous\r\n      })\r\n    },\r\n    nextPage(){\r\n      this.$axios.get(this.next_page, {headers:{Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data.results\r\n        this.prev_page = res.data.data.previous\r\n      })\r\n    },\r\n    searchUser(){\r\n      this.loading = true\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/job/?search=' + this.state, {headers:{Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data.results\r\n        this.count = res.data.data.count\r\n        this.loading = false\r\n      })\r\n    },\r\n    handInput() {\r\n      this.loading=true\r\n      if (this.state.length === 0) {\r\n        setTimeout(()=>{\r\n          this.loading=false\r\n          this.getJob()\r\n        }, 1000)\r\n\r\n      } else {\r\n        setTimeout(()=>{\r\n          this.loading=false\r\n          this.$axios.get(this.$settings.BASE_URL + '/permission/job/?search=' + this.state, {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n            this.tableData = res.data.data.results\r\n            this.count = res.data.data.count\r\n          })\r\n        }, 1000)\r\n\r\n      }\r\n    },\r\n    delJob(id) {\r\n      let ids = []\r\n      if (id) {\r\n        ids.push(id)\r\n      } else {\r\n        this.multipleSelection.forEach(row => {\r\n          ids.push(row.id)\r\n        })\r\n      }\r\n      this.$axios.post(this.$settings.BASE_URL + '/permission/job/del_jobs/', {ids: ids}, {\r\n        headers: {\r\n          Authorization: this.$cookies.get('token'),\r\n          Auth: 'job:del'\r\n        }\r\n      }).then(res => {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '删除成功',\r\n          type: 'success',\r\n          onClose: () => {\r\n            this.getJob()\r\n            this.getTreeDept()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    editJob(id) {\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/job/' + id + '/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.ruleForm = res.data.data\r\n        this.title = '修改'\r\n        this.dialogVisible = true\r\n      })\r\n    },\r\n    setJob() {\r\n      let axios_type = this.$axios.post\r\n      if (this.ruleForm.id) {\r\n        axios_type = this.$axios.put\r\n      }\r\n      axios_type(this.$settings.BASE_URL + '/permission/job/' + (this.ruleForm.id ? this.ruleForm.id + '/' : ''), this.ruleForm, {\r\n        headers: {\r\n          Authorization: this.$cookies.get('token'),\r\n          Auth: (this.ruleForm.id ? 'job:mod' : 'job:add')\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code === 100) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '操作成功',\r\n            type: 'success',\r\n            onClose: () => {\r\n              this.getJob()\r\n              this.getTreeDept()\r\n              this.dialogVisible = false\r\n              this.ruleForm = {\r\n                name: '',\r\n                dept: null,\r\n                status: true\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n      })\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            this.dialogVisible = false\r\n            this.title = '新增'\r\n            this.ruleForm = {\r\n              name: '',\r\n              dept: null,\r\n              status: true\r\n            }\r\n          })\r\n          .catch(_ => {\r\n          });\r\n    },\r\n    getJob() {\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/job/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data.results\r\n        this.restaurants = res.data.data.results\r\n        this.count = res.data.data.count\r\n        this.next_page = res.data.data.next\r\n      })\r\n    },\r\n    getTreeDept() {\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/dept/all_dept/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.depts = res.data.data.results\r\n      })\r\n    },\r\n    querySearchAsync(queryString, cb) {\r\n      var restaurants = this.restaurants;\r\n      var results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants;\r\n\r\n      clearTimeout(this.timeout);\r\n      this.timeout = setTimeout(() => {\r\n        cb(results);\r\n      }, 800 * Math.random());\r\n    },\r\n    createStateFilter(queryString) {\r\n      console.log(queryString)\r\n      return (state) => {\r\n        return (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n      };\r\n    },\r\n    handleSelect(item) {\r\n      console.log(item);\r\n      this.tableData = [item]\r\n    }\r\n  },\r\n  created() {\r\n    this.getJob()\r\n    this.getTreeDept()\r\n  },\r\n  components: {\r\n    Treeselect\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JobView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JobView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JobView.vue?vue&type=template&id=a304aedc&scoped=true&\"\nimport script from \"./JobView.vue?vue&type=script&lang=js&\"\nexport * from \"./JobView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a304aedc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","querySearchAsync","on","handInput","model","value","state","callback","$$v","expression","staticStyle","searchUser","_v","hasAuth","$event","dialogVisible","_e","delJob","directives","name","rawName","loading","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","status","editJob","id","title","handleClose","ref","staticClass","ruleForm","rules","$set","depts","dept","slot","setJob","count","nextPage","getPage","prevPage","staticRenderFns","data","prev_page","next_page","restaurants","timeout","required","message","trigger","min","max","multipleSelection","methods","$axios","get","headers","Authorization","$cookies","then","res","results","next","val","$settings","BASE_URL","previous","length","setTimeout","getJob","ids","push","forEach","post","Auth","$message","showClose","type","onClose","getTreeDept","axios_type","put","code","done","$confirm","_","catch","queryString","cb","filter","createStateFilter","clearTimeout","Math","random","console","log","toLowerCase","indexOf","handleSelect","item","created","components","Treeselect","component"],"sourceRoot":""}