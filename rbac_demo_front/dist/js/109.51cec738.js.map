{"version":3,"file":"js/109.51cec738.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAAEF,EAAII,QAAQ,YAAaF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQP,EAAIQ,eAAc,CAAI,IAAI,CAACR,EAAIS,GAAG,QAAQT,EAAIU,MAAM,GAAGR,EAAG,WAAW,CAACS,YAAY,CAAC,MAAQ,OAAO,aAAa,QAAQN,MAAM,CAAC,KAAOL,EAAIY,UAAU,UAAU,KAAK,OAAS,GAAG,aAAa,CAACC,SAAU,WAAYC,YAAa,iBAAiB,CAACZ,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,OAAOU,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAqB,IAAnBA,EAAMC,IAAIC,KAAYnB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,UAAU,CAACL,EAAIS,GAAG,QAA4B,IAAnBU,EAAMC,IAAIC,KAAYnB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACL,EAAIS,GAAG,QAA4B,IAAnBU,EAAMC,IAAIC,KAAYnB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,SAAS,CAACL,EAAIS,GAAG,QAAQT,EAAIU,KAAK,OAAOR,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,MAAM,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,OAAOU,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEA,EAAMC,IAAIE,OAAQpB,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACL,EAAIS,GAAG,QAAQP,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAW,CAACL,EAAIS,GAAG,QAAQ,OAAOP,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,MAAMU,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEnB,EAAII,QAAQ,YAAaF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIuB,QAAQJ,EAAMC,IAAII,GAAG,KAAKxB,EAAIU,KAAMV,EAAII,QAAQ,YAAaF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIyB,QAAQN,EAAMC,IAAII,GAAG,KAAKxB,EAAIU,KAAK,QAAQ,GAAGR,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQL,EAAI0B,MAAM,QAAU1B,EAAIQ,cAAc,MAAQ,MAAM,eAAeR,EAAI2B,aAAarB,GAAG,CAAC,iBAAiB,SAASC,GAAQP,EAAIQ,cAAcD,CAAM,IAAI,CAACL,EAAG,UAAU,CAAC0B,IAAI,WAAWC,YAAY,gBAAgBxB,MAAM,CAAC,MAAQL,EAAI8B,SAAS,cAAc,GAAG,cAAc,UAAU,CAAC5B,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,EAAE,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAI+B,OAAO/B,EAAI8B,SAAST,KAAK,GAAGW,MAAM,CAACC,MAAOjC,EAAI8B,SAAST,KAAMa,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,OAAQK,EAAI,EAAEE,WAAW,kBAAkB,CAACrC,EAAIS,GAAG,QAAQP,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,EAAE,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAI+B,OAAO/B,EAAI8B,SAAST,KAAK,GAAGW,MAAM,CAACC,MAAOjC,EAAI8B,SAAST,KAAMa,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,OAAQK,EAAI,EAAEE,WAAW,kBAAkB,CAACrC,EAAIS,GAAG,QAAQP,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,EAAE,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAI+B,OAAO/B,EAAI8B,SAAST,KAAK,GAAGW,MAAM,CAACC,MAAOjC,EAAI8B,SAAST,KAAMa,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,OAAQK,EAAI,EAAEE,WAAW,kBAAkB,CAACrC,EAAIS,GAAG,SAAS,GAAGP,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACH,EAAG,aAAa,CAACG,MAAM,CAAC,YAAc,SAAS,MAAO,EAAK,QAAUL,EAAIsC,OAAOhC,GAAG,CAAC,MAAQN,EAAIuC,UAAUP,MAAM,CAACC,MAAOjC,EAAI8B,SAASU,OAAQN,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,SAAUK,EAAI,EAAEE,WAAW,sBAAsB,GAAGnC,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACH,EAAG,WAAW,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASJ,MAAOQ,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,QAASK,EAAI,EAAEE,WAAW,qBAAqB,GAAGnC,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACH,EAAG,WAAW,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASW,KAAMP,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,OAAQK,EAAI,EAAEE,WAAW,oBAAoB,GAAuB,GAAnBrC,EAAI8B,SAAST,KAASnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACH,EAAG,WAAW,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASY,KAAMR,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,OAAQK,EAAI,EAAEE,WAAW,oBAAoB,GAAGrC,EAAIU,KAAyB,GAAnBV,EAAI8B,SAAST,KAASnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,cAAc,CAACH,EAAG,WAAW,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASa,UAAWT,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,YAAaK,EAAI,EAAEE,WAAW,yBAAyB,GAAGrC,EAAIU,KAAyB,GAAnBV,EAAI8B,SAAST,KAASnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACH,EAAG,WAAW,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASc,WAAYV,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,aAAcK,EAAI,EAAEE,WAAW,0BAA0B,GAAGrC,EAAIU,KAAKR,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACH,EAAG,YAAY,CAAC8B,MAAM,CAACC,MAAOjC,EAAI8B,SAASR,OAAQY,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI8B,SAAU,SAAUK,EAAI,EAAEE,WAAW,sBAAsB,IAAI,GAAGnC,EAAG,OAAO,CAAC2B,YAAY,gBAAgBxB,MAAM,CAAC,KAAO,UAAUwC,KAAK,UAAU,CAAC3C,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQN,EAAI2B,cAAc,CAAC3B,EAAIS,GAAG,SAASP,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQN,EAAI8C,WAAW,CAAC9C,EAAIS,GAAG,UAAU,IAAI,IAAI,EACx5J,EACIsC,EAAkB,G,mBCmHtB,GACAN,KAAA,YACAO,OACA,OACAtB,MAAA,KACAd,UAAA,GACAJ,eAAA,EACAyC,OAAA,EACAX,MAAA,GACAR,SAAA,CACAU,OAAA,KACAnB,KAAA,IACAK,MAAA,GACAe,KAAA,GACAnB,QAAA,EACAoB,KAAA,GACAC,UAAA,KACAC,WAAA,IAGA,EACAM,QAAA,CACA3B,QAAAC,GACA,KAAA2B,OAAAC,IAAA,KAAAC,UAAAC,SAAA,oBAAA9B,EAAA,KAAA+B,QAAA,CAAAC,cAAA,KAAAC,SAAAL,IAAA,YAAAM,MAAAC,IACA,KAAA7B,SAAA6B,EAAAX,KAAAA,KACA,KAAAxC,eAAA,IAEA,EACAiB,QAAAD,GACA,KAAA2B,OAAAS,OAAA,KAAAP,UAAAC,SAAA,oBAAA9B,EAAA,KAAA+B,QAAA,CAAAC,cAAA,KAAAC,SAAAL,IAAA,SAAAS,KAAA,cAAAH,MAAAC,IACA,KAAAG,SAAA,CACAC,WAAA,EACAC,QAAA,OACA3C,KAAA,UACA4C,QAAAA,KACA,KAAAC,UACA,KAAAC,YAAA,GAEA,GAEA,EACApC,OAAAV,GACA,KAAAS,SAAA,CACAU,OAAA,KACAnB,KAAAA,EACAK,MAAA,GACAe,KAAA,GACAnB,QAAA,EACAoB,KAAA,GACAC,UAAA,KACAC,WAAA,IAEAwB,QAAAC,IAAA,KAAAvC,SACA,EACAS,WACA,KAAAT,SAAAU,SACA,KAAAV,SAAAU,OAAA,KAEA,EACAM,WACA,IAAAwB,EAAA,KAAAnB,OAAAoB,KACA,KAAAzC,SAAAN,KACA8C,EAAA,KAAAnB,OAAAqB,KAEAF,EAAA,KAAAjB,UAAAC,SAAA,0BAAAxB,SAAAN,GAAA,KAAAM,SAAAN,GAAA,aAAAM,SAAA,CAAAyB,QAAA,CAAAC,cAAA,KAAAC,SAAAL,IAAA,SAAAS,KAAA,KAAA/B,SAAAN,GAAA,yBAAAkC,MAAAC,IACA,KAAAG,SAAA,CACAC,WAAA,EACAC,QAAA,OACA3C,KAAA,UACA4C,QAAAA,KACA,KAAAC,UACA,KAAAC,aACA,KAAA3D,eAAA,EACA,KAAAuB,OAAA,KAEA,GAEA,EACAJ,YAAA8C,GACA,KAAAC,SAAA,SACAhB,MAAAiB,IACA,KAAAnE,eAAA,EAEA,KAAAsB,SAAA,CACAW,KAAA,GACAmC,IAAA,GACAC,MAAA,KACAvC,MAAA,GACAhB,QAAA,GAEA,KAAAwD,MAAAC,SAAAC,eAAA,KAAAlD,SAAAQ,MAAA,IAEA2C,OAAAN,OAEA,EACAT,UACA,KAAAf,OAAAC,IAAA,KAAAC,UAAAC,SAAA,yBAAAC,QAAA,CAAAC,cAAA,KAAAC,SAAAL,IAAA,YAAAM,MAAAC,IACA,KAAA/C,UAAA+C,EAAAX,KAAAA,IAAA,GAEA,EACAmB,aACA,KAAAhB,OAAAC,IAAA,KAAAC,UAAAC,SAAA,8BAAAC,QAAA,CAAAC,cAAA,KAAAC,SAAAL,IAAA,YAAAM,MAAAC,IACA,KAAArB,MAAAqB,EAAAX,KAAAA,IAAA,GAEA,GAEAkC,UACA,KAAAhB,UACA,KAAAC,YACA,EACAgB,WAAA,CACAC,WAAAA,MCpOyP,I,UCOrPzC,GAAY,OACd,EACA5C,EACAgD,GACA,EACA,KACA,WACA,MAIF,EAAeJ,EAAiB,O","sources":["webpack://rbac_demo_front/./src/components/MenutView.vue","webpack://rbac_demo_front/src/components/MenutView.vue","webpack://rbac_demo_front/./src/components/MenutView.vue?904c","webpack://rbac_demo_front/./src/components/MenutView.vue?8785"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[(_vm.hasAuth('menu:add'))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"新增\")]):_vm._e()],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"row-key\":\"id\",\"border\":\"\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"别名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"permission\",\"label\":\"权限编码\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"path\",\"label\":\"路由\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 0)?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"目录\")]):(scope.row.type === 1)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"菜单\")]):(scope.row.type === 2)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"按钮\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"component\",\"label\":\"组件名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status)?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"正常\")]):_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"禁用\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.hasAuth('menu:mod'))?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.modMenu(scope.row.id)}}}):_vm._e(),(_vm.hasAuth('menu:del'))?_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.delMenu(scope.row.id)}}}):_vm._e()]}}])})],1),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-radio',{attrs:{\"label\":0,\"border\":\"\"},on:{\"input\":function($event){return _vm.result(_vm.ruleForm.type)}},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"目录\")]),_c('el-radio',{attrs:{\"label\":1,\"border\":\"\"},on:{\"input\":function($event){return _vm.result(_vm.ruleForm.type)}},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"菜单\")]),_c('el-radio',{attrs:{\"label\":2,\"border\":\"\"},on:{\"input\":function($event){return _vm.result(_vm.ruleForm.type)}},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},[_vm._v(\"按钮\")])],1),_c('el-form-item',{attrs:{\"label\":\"上级菜单\",\"prop\":\"dept\"}},[_c('treeselect',{attrs:{\"placeholder\":\"选择上级菜单\",\"flat\":true,\"options\":_vm.menus},on:{\"input\":_vm.showMenu},model:{value:(_vm.ruleForm.p_menu),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"p_menu\", $$v)},expression:\"ruleForm.p_menu\"}})],1),_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"别名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),(_vm.ruleForm.type==1)?_c('el-form-item',{attrs:{\"label\":\"路由\",\"prop\":\"path\"}},[_c('el-input',{model:{value:(_vm.ruleForm.path),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"path\", $$v)},expression:\"ruleForm.path\"}})],1):_vm._e(),(_vm.ruleForm.type==1)?_c('el-form-item',{attrs:{\"label\":\"组件名\",\"prop\":\"component\"}},[_c('el-input',{model:{value:(_vm.ruleForm.component),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"component\", $$v)},expression:\"ruleForm.component\"}})],1):_vm._e(),(_vm.ruleForm.type==2)?_c('el-form-item',{attrs:{\"label\":\"权限编码\",\"prop\":\"permission\"}},[_c('el-input',{model:{value:(_vm.ruleForm.permission),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"permission\", $$v)},expression:\"ruleForm.permission\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"status\"}},[_c('el-switch',{model:{value:(_vm.ruleForm.status),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"status\", $$v)},expression:\"ruleForm.status\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showTest}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"dialogVisible=true\" v-if=\"hasAuth('menu:add')\">新增</el-button>\r\n    </div>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%;margin-top: 20px;\"\r\n        row-key=\"id\"\r\n        border\r\n        :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\r\n      <el-table-column\r\n          prop=\"title\"\r\n          label=\"标题\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"别名\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"permission\"\r\n          label=\"权限编码\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"path\"\r\n          label=\"路由\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"type\"\r\n          label=\"类型\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" v-if=\"scope.row.type === 0\">目录</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.type === 1\" type=\"success\">菜单</el-tag>\r\n          <el-tag size=\"small\" v-else-if=\"scope.row.type === 2\" type=\"info\">按钮</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"component\"\r\n          label=\"组件名\"\r\n          width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"status\"\r\n          label=\"状态\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"small\" v-if=\"scope.row.status\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"small\" v-else type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"\"\r\n          label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" circle v-if=\"hasAuth('menu:mod')\" @click=\"modMenu(scope.row.id)\"></el-button>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" circle v-if=\"hasAuth('menu:del')\" @click=\"delMenu(scope.row.id)\"></el-button>\r\n\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog\r\n        :title=\"title\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\">\r\n      <el-form :model=\"ruleForm\" status-icon ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"类型\" prop=\"type\">\r\n          <el-radio v-model=\"ruleForm.type\" :label=\"0\" border @input=\"result(ruleForm.type)\">目录</el-radio>\r\n          <el-radio v-model=\"ruleForm.type\" :label=\"1\" border @input=\"result(ruleForm.type)\">菜单</el-radio>\r\n          <el-radio v-model=\"ruleForm.type\" :label=\"2\" border @input=\"result(ruleForm.type)\">按钮</el-radio>\r\n        </el-form-item>\r\n        <el-form-item label=\"上级菜单\" prop=\"dept\">\r\n          <treeselect\r\n              placeholder=\"选择上级菜单\"\r\n              :flat=\"true\"\r\n              v-model=\"ruleForm.p_menu\"\r\n              :options=\"menus\"\r\n              @input=\"showMenu\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"ruleForm.title\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"别名\" prop=\"name\">\r\n          <el-input v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"路由\" prop=\"path\" v-if=\"ruleForm.type==1\">\r\n          <el-input v-model=\"ruleForm.path\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"组件名\" prop=\"component\" v-if=\"ruleForm.type==1\">\r\n          <el-input v-model=\"ruleForm.component\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"权限编码\" prop=\"permission\" v-if=\"ruleForm.type==2\">\r\n          <el-input v-model=\"ruleForm.permission\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否启用\" prop=\"status\">\r\n          <el-switch v-model=\"ruleForm.status\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"showTest\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\nexport default {\r\n  name: \"MenutView\",\r\n  data() {\r\n    return {\r\n      title: '新增',\r\n      tableData: [],\r\n      dialogVisible: false,\r\n      radio1: 0,\r\n      menus: [],\r\n      ruleForm: {\r\n        p_menu: null,\r\n        type: '0',\r\n        title: '',\r\n        name: '',\r\n        status: true,\r\n        path: '',\r\n        component: null,\r\n        permission: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    modMenu(id){\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/menu/' + id + '/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.ruleForm = res.data.data\r\n        this.dialogVisible = true\r\n      })\r\n    },\r\n    delMenu(id){\r\n      this.$axios.delete(this.$settings.BASE_URL + '/permission/menu/' + id + '/', {headers: {Authorization: this.$cookies.get('token'), Auth: 'menu:del'}}).then(res => {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '删除成功',\r\n          type: 'success',\r\n          onClose: () => {\r\n            this.getMenu()\r\n            this.getAllMenu()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    result(type) {\r\n      this.ruleForm = {\r\n        p_menu: null,\r\n        type: type,\r\n        title: '',\r\n        name: '',\r\n        status: true,\r\n        path: '',\r\n        component: null,\r\n        permission: ''\r\n      }\r\n      console.log(this.ruleForm)\r\n    },\r\n    showMenu() {\r\n      if (!this.ruleForm.p_menu) {\r\n        this.ruleForm.p_menu = null\r\n      }\r\n    },\r\n    showTest() {\r\n      let axios_type = this.$axios.post\r\n      if (this.ruleForm.id) {\r\n        axios_type = this.$axios.put\r\n      }\r\n      axios_type(this.$settings.BASE_URL + '/permission/menu/' + (this.ruleForm.id?this.ruleForm.id +'/':''), this.ruleForm, {headers: {Authorization: this.$cookies.get('token'), Auth: (this.ruleForm.id?'menu:mod':'menu:add')}}).then(res => {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '操作成功',\r\n          type: 'success',\r\n          onClose: () => {\r\n            this.getMenu()\r\n            this.getAllMenu()\r\n            this.dialogVisible = false\r\n            this.result(0)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            this.dialogVisible = false\r\n            // done();\r\n            this.ruleForm = {\r\n              name: '',\r\n              msg: '',\r\n              depts: null,\r\n              menus: [],\r\n              status: true\r\n            }\r\n            this.$refs.permTree.setCheckedKeys(this.ruleForm.menus)\r\n          })\r\n          .catch(_ => {\r\n          });\r\n    },\r\n    getMenu() {\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/menu/all/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n        this.tableData = res.data.data\r\n      })\r\n    },\r\n    getAllMenu(){\r\n      this.$axios.get(this.$settings.BASE_URL + '/permission/menu/all_menu/', {headers: {Authorization: this.$cookies.get('token')}}).then(res => {\r\n      this.menus = res.data.data\r\n    })\r\n    }\r\n  },\r\n  created() {\r\n    this.getMenu()\r\n    this.getAllMenu()\r\n  },\r\n  components: {\r\n    Treeselect\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenutView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenutView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenutView.vue?vue&type=template&id=57d1a102&scoped=true&\"\nimport script from \"./MenutView.vue?vue&type=script&lang=js&\"\nexport * from \"./MenutView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57d1a102\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","hasAuth","attrs","on","$event","dialogVisible","_v","_e","staticStyle","tableData","children","hasChildren","scopedSlots","_u","key","fn","scope","row","type","status","modMenu","id","delMenu","title","handleClose","ref","staticClass","ruleForm","result","model","value","callback","$$v","$set","expression","menus","showMenu","p_menu","name","path","component","permission","slot","showTest","staticRenderFns","data","radio1","methods","$axios","get","$settings","BASE_URL","headers","Authorization","$cookies","then","res","delete","Auth","$message","showClose","message","onClose","getMenu","getAllMenu","console","log","axios_type","post","put","done","$confirm","_","msg","depts","$refs","permTree","setCheckedKeys","catch","created","components","Treeselect"],"sourceRoot":""}